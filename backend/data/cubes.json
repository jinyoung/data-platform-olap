{
  "schema_name": "site_flow_analysisSchema",
  "cubes": {
    "정수장별유량분석": {
      "name": "정수장별유량분석",
      "fact_table": "fact_정수장별유량분석",
      "measures": [
        {
          "name": "정수장에서 측정된 유량의 평균값",
          "column": "avg_flow",
          "agg": "AVG",
          "format_string": null,
          "caption": null
        },
        {
          "name": "정수장에서 측정된 유량의 총합",
          "column": "total_flow",
          "agg": "SUM",
          "format_string": null,
          "caption": null
        },
        {
          "name": "유량 측정의 총 건수",
          "column": "measurement_count",
          "agg": "COUNT",
          "format_string": null,
          "caption": null
        }
      ],
      "dimensions": [
        {
          "name": "dim_time",
          "table": "dim_time",
          "foreign_key": "dim_time_id",
          "levels": [
            {
              "name": "date",
              "column": "date",
              "order_column": null,
              "caption": null
            },
            {
              "name": "year",
              "column": "year",
              "order_column": null,
              "caption": null
            },
            {
              "name": "quarter",
              "column": "quarter",
              "order_column": null,
              "caption": null
            },
            {
              "name": "month",
              "column": "month",
              "order_column": null,
              "caption": null
            },
            {
              "name": "day",
              "column": "day",
              "order_column": null,
              "caption": null
            }
          ],
          "caption": null
        },
        {
          "name": "dim_site",
          "table": "dim_site",
          "foreign_key": "dim_site_id",
          "levels": [
            {
              "name": "name",
              "column": "name",
              "order_column": null,
              "caption": null
            }
          ],
          "caption": null
        },
        {
          "name": "dim_tag",
          "table": "dim_tag",
          "foreign_key": "dim_tag_id",
          "levels": [
            {
              "name": "tag_type",
              "column": "tag_type",
              "order_column": null,
              "caption": null
            }
          ],
          "caption": null
        }
      ],
      "joins": [
        {
          "left_table": "fact_정수장별유량분석",
          "left_key": "dim_time_id",
          "right_table": "dim_time",
          "right_key": "id"
        },
        {
          "left_table": "fact_정수장별유량분석",
          "left_key": "dim_site_id",
          "right_table": "dim_site",
          "right_key": "id"
        },
        {
          "left_table": "fact_정수장별유량분석",
          "left_key": "dim_tag_id",
          "right_table": "dim_tag",
          "right_key": "id"
        }
      ],
      "caption": null
    },
    "site_flow_analysis": {
      "name": "site_flow_analysis",
      "fact_table": "fact_flow_rate",
      "measures": [
        {
          "name": "avg_flow_rate",
          "column": "avg_flow",
          "agg": "AVG",
          "format_string": null,
          "caption": null
        },
        {
          "name": "total_flow_count",
          "column": "count",
          "agg": "COUNT",
          "format_string": null,
          "caption": null
        }
      ],
      "dimensions": [
        {
          "name": "dim_time",
          "table": "dim_time",
          "foreign_key": "dim_time_id",
          "levels": [
            {
              "name": "date",
              "column": "date",
              "order_column": null,
              "caption": null
            },
            {
              "name": "year",
              "column": "year",
              "order_column": null,
              "caption": null
            },
            {
              "name": "quarter",
              "column": "quarter",
              "order_column": null,
              "caption": null
            },
            {
              "name": "month",
              "column": "month",
              "order_column": null,
              "caption": null
            },
            {
              "name": "day",
              "column": "day",
              "order_column": null,
              "caption": null
            }
          ],
          "caption": null
        },
        {
          "name": "dim_site",
          "table": "dim_site",
          "foreign_key": "dim_site_id",
          "levels": [
            {
              "name": "tag_sn",
              "column": "tag_sn",
              "order_column": null,
              "caption": null
            },
            {
              "name": "bplc_code",
              "column": "bplc_code",
              "order_column": null,
              "caption": null
            },
            {
              "name": "vrnt_code",
              "column": "vrnt_code",
              "order_column": null,
              "caption": null
            }
          ],
          "caption": null
        }
      ],
      "joins": [
        {
          "left_table": "fact_flow_rate",
          "left_key": "dim_time_id",
          "right_table": "dim_time",
          "right_key": "id"
        },
        {
          "left_table": "fact_flow_rate",
          "left_key": "dim_site_id",
          "right_table": "dim_site",
          "right_key": "id"
        }
      ],
      "caption": null
    }
  }
}